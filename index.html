<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cara ou Coroa ü™ô</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-dark: #12182b;
            --bg-light: #1f294a;
            --primary: #5a67d8;
            --primary-hover: #434190;
            --text-light: #e0e1dd;
            --shadow: rgba(0, 0, 0, 0.25);
            --animation-duration: 1.5s; /* Vari√°vel para a dura√ß√£o da anima√ß√£o */
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--bg-dark), var(--bg-light));
            color: var(--text-light);
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container-jogo {
            text-align: center;
            background-color: var(--bg-light);
            padding: 30px 40px;
            border-radius: 25px;
            box-shadow: 0 15px 35px var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 400px;
            width: 100%;
        }

        h1 {
            color: var(--text-light);
            text-transform: uppercase;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 5px var(--shadow);
        }

        .moeda-container {
            perspective: 1000px;
            margin: 30px auto;
            height: 150px;
        }

        .moeda {
            width: 150px;
            height: 150px;
            position: relative;
            transform-style: preserve-3d;
            border-radius: 50%;
        }

        /* ANIMA√á√ÉO APLICADA AQUI */
        .moeda.animar-para-cara {
            animation: animacao-giro-cara var(--animation-duration) forwards;
        }
        
        .moeda.animar-para-coroa {
            animation: animacao-giro-coroa var(--animation-duration) forwards;
        }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            backface-visibility: hidden; /* Oculta a face de tr√°s */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Come√ßam todas transparentes para a anima√ß√£o controlar a opacidade */
            opacity: 0;
        }
        
        .face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .cara {
            /* A anima√ß√£o vai torn√°-la vis√≠vel quando necess√°rio */
        }

        .coroa {
            transform: rotateY(180deg);
        }

        /* NOVAS ANIMA√á√ïES KEYFRAMES */
        @keyframes animacao-giro-cara {
            0%   { transform: rotateY(0deg); }
            /* Mostra as imagens de giro em sequ√™ncia */
            25%  { opacity: 0; } /* Garante que a imagem anterior sumiu */
            30%  { opacity: 1; } /* Mostra a imagem de giro 1 */
            45%  { opacity: 0; }
            50%  { opacity: 1; } /* Mostra a imagem de giro 2 */
            65%  { opacity: 0; }
            70%  { opacity: 1; } /* Mostra a imagem de giro 1 novamente */
            /* Termina em "cara" (5 voltas completas) */
            100% { transform: rotateY(1800deg); opacity: 1; }
        }

        @keyframes animacao-giro-coroa {
            0%   { transform: rotateY(0deg); }
            /* Mostra as imagens de giro em sequ√™ncia */
            25%  { opacity: 0; }
            30%  { opacity: 1; }
            45%  { opacity: 0; }
            50%  { opacity: 1; }
            65%  { opacity: 0; }
            70%  { opacity: 1; }
            /* Termina em "coroa" (5.5 voltas) */
            100% { transform: rotateY(1980deg); opacity: 1; }
        }

        /* Estilos dos controles e placar */
        #girar-btn { background-color: var(--primary); color: var(--text-light); border: none; padding: 12px 30px; font-size: 1.1em; font-weight: 600; border-radius: 50px; cursor: pointer; transition: background-color 0.3s, transform 0.2s; margin-bottom: 20px; }
        #girar-btn:hover { background-color: var(--primary-hover); transform: translateY(-2px); }
        #girar-btn:disabled { background-color: #555; cursor: not-allowed; transform: translateY(0); }
        #resultado-texto { font-size: 1.2em; font-weight: 600; min-height: 25px; margin-bottom: 25px; }
        .placar { display: flex; justify-content: space-around; background-color: var(--bg-dark); padding: 15px; border-radius: 15px; margin-top: 10px; }
        .placar-item { flex-basis: 50%; }
        .placar-item h3 { margin: 0 0 5px 0; color: var(--primary); }
        .placar-item p { margin: 0; font-size: 1.8em; font-weight: 700; }
    </style>
</head>
<body>

    <div class="container-jogo">
        <h1>Cara ou Coroa</h1>

        <div class="moeda-container">
            <div id="moeda" class="moeda">
                <div class="face cara"><img src="https://i.imgur.com/K62r8S7.png" alt="Cara"></div>
                <div class="face coroa"><img src="https://i.imgur.com/pSkso5s.png" alt="Coroa"></div>
                
                <div class="face giro-1"><img src="https://i.imgur.com/M12b2s1.png" alt="Moeda em √¢ngulo"></div>
                <div class="face giro-2"><img src="https://i.imgur.com/s6344h1.png" alt="Moeda de lado"></div>
            </div>
        </div>

        <button id="girar-btn">Girar Moeda</button>
        <p id="resultado-texto">Clique para come√ßar!</p>

        <div class="placar">
            <div class="placar-item"><h3>Cara</h3><p id="placar-cara">0</p></div>
            <div class="placar-item"><h3>Coroa</h3><p id="placar-coroa">0</p></div>
        </div>
    </div>

    <script>
        const moeda = document.getElementById('moeda');
        const girarBtn = document.getElementById('girar-btn');
        const resultadoTexto = document.getElementById('resultado-texto');
        const placarCaraEl = document.getElementById('placar-cara');
        const placarCoroaEl = document.getElementById('placar-coroa');
        
        // As faces agora s√£o selecionadas para controle de opacidade
        const faceCara = document.querySelector('.cara');
        const faceCoroa = document.querySelector('.coroa');
        const faceGiro1 = document.querySelector('.giro-1');
        const faceGiro2 = document.querySelector('.giro-2');

        let placar = { cara: 0, coroa: 0 };
        let girando = false;

        girarBtn.addEventListener('click', () => {
            if (girando) return; // Impede novos cliques durante a anima√ß√£o

            girando = true;
            girarBtn.disabled = true;
            resultadoTexto.textContent = 'Girando...';
            
            // Remove classes de anima√ß√£o anteriores
            moeda.classList.remove('animar-para-cara', 'animar-para-coroa');
            
            const resultadoSorteado = Math.floor(Math.random() * 2);
            
            // Aplica a anima√ß√£o correta
            if (resultadoSorteado === 0) {
                moeda.classList.add('animar-para-cara');
            } else {
                moeda.classList.add('animar-para-coroa');
            }

            // Define um ouvinte para o FIM da anima√ß√£o
            moeda.addEventListener('animationend', () => {
                // Atualiza o placar e texto
                if (resultadoSorteado === 0) {
                    resultadoTexto.textContent = 'Deu Cara!';
                    placar.cara++;
                    placarCaraEl.textContent = placar.cara;
                } else {
                    resultadoTexto.textContent = 'Deu Coroa!';
                    placar.coroa++;
                    placarCoroaEl.textContent = placar.coroa;
                }
                
                girando = false;
                girarBtn.disabled = false;
                
            }, { once: true }); // O {once: true} faz o ouvinte ser removido ap√≥s ser disparado
        });
    </script>
</body>
</html>